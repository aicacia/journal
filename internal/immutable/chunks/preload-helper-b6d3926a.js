import{E as b,F as E,G as S,s as L,H as k}from"./index-8e1ea7fc.js";const f=[];function q(e,n){return{subscribe:w(e,n).subscribe}}function w(e,n=b){let o;const i=new Set;function r(t){if(L(e,t)&&(e=t,o)){const c=!f.length;for(const s of i)s[1](),f.push(s,e);if(c){for(let s=0;s<f.length;s+=2)f[s][0](f[s+1]);f.length=0}}}function u(t){r(t(e))}function l(t,c=b){const s=[t,c];return i.add(s),i.size===1&&(o=n(r)||b),t(e),()=>{i.delete(s),i.size===0&&(o(),o=null)}}return{set:r,update:u,subscribe:l}}function $(e,n,o){const i=!Array.isArray(e),r=i?[e]:e,u=n.length<2;return q(o,l=>{let t=!1;const c=[];let s=0,d=b;const m=()=>{if(s)return;d();const a=n(i?c[0]:c,l);u?l(a):d=k(a)?a:b},g=r.map((a,p)=>E(a,y=>{c[p]=y,s&=~(1<<p),t&&m()},()=>{s|=1<<p}));return t=!0,m(),function(){S(g),d()}})}let h="",C="";function z(e){h=e.base,C=e.assets||h}const P=function(){const n=document.createElement("link").relList;return n&&n.supports&&n.supports("modulepreload")?"modulepreload":"preload"}(),R=function(e){return"/journal/"+e},_={},A=function(n,o,i){return!o||o.length===0?n():Promise.all(o.map(r=>{if(r=R(r),r in _)return;_[r]=!0;const u=r.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${l}`))return;const t=document.createElement("link");if(t.rel=u?"stylesheet":P,u||(t.as="script",t.crossOrigin=""),t.href=r,document.head.appendChild(t),u)return new Promise((c,s)=>{t.addEventListener("load",c),t.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>n())};export{A as _,C as a,h as b,$ as d,z as s,w};
